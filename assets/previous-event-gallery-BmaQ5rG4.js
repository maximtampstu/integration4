import{w as d}from"./with-props-B93zY1wZ.js";import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{L as c}from"./chunk-DQRVZFIR-B4fErBJ-.js";import{B as u}from"./BackButton-B5WbHyJs.js";import{f as p,j as m}from"./art-CxjTaGtR.js";import{c as v}from"./events-yavB0MIg.js";import{Q as y}from"./QRCodeSVG-VmSfVQpw.js";import"./supabase-B2tzS42n.js";const n=({item:r,artType:s})=>{var l;const t=(l=r==null?void 0:r.url)==null?void 0:l.endsWith(".mp3"),i=(r==null?void 0:r.type)==="video";return e.jsxs("li",{className:"previous-event-art-card",children:[t?e.jsx("audio",{className:"art-card-gallery__media art-card-gallery__media--audio",controls:!0,children:e.jsx("source",{src:r.url,type:"audio/mpeg"})}):i?e.jsx("video",{className:"art-card-gallery__media",controls:!0,width:"290",children:e.jsx("source",{src:r.url,type:"video/mp4"})}):e.jsx("img",{className:"art-card-gallery__media",src:r.url,alt:r.title}),e.jsx("p",{children:s.name})]})};async function T(){const r=(await v())[0],s=await p(r.id),t=await m();return{pastEvent:r,eventArt:s,artTypes:t}}const x=({loaderData:r})=>{const{pastEvent:s,eventArt:t,artTypes:i}=r,l=`${window.location.origin}/event-gallery/${s.id}`;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"previous-event-gallery__title",children:e.jsx("h1",{className:"previous-event-gallery__masked-text",style:{backgroundImage:`url(${s==null?void 0:s.thumbnail})`},children:s==null?void 0:s.name})}),e.jsxs("div",{className:"previous-event-gallery__left",children:[e.jsx(u,{}),e.jsxs("ul",{children:[e.jsx(n,{item:t.find(a=>a.id===9),artType:i.find(a=>a.id===t.find(o=>o.id===9).artTypeId)}),e.jsx(n,{item:t.find(a=>a.id===25),artType:i.find(a=>a.id===t.find(o=>o.id===25).artTypeId)}),e.jsx(n,{item:t.find(a=>a.id===32),artType:i.find(a=>a.id===t.find(o=>o.id===32).artTypeId)})]}),e.jsx(c,{className:"kiosk-button kiosk-button--sec",to:"/kiosk/upload-info",children:"Upload Your Work"})]}),e.jsxs("div",{className:"previous-event-gallery__qr",children:[e.jsx("h2",{children:"Want to explore more? Or leave Feedback?"}),e.jsx("p",{children:"Scan to browse the full gallery"}),e.jsx(y,{value:l})]})]})},A=d(x);export{T as clientLoader,A as default};

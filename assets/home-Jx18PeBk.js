import{w as m}from"./with-props-B93zY1wZ.js";import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{a as d,L as i}from"./chunk-DQRVZFIR-B4fErBJ-.js";import{b as u}from"./events-CHg21iI2.js";import{g as p,a as x,d as j}from"./theme-BVdESVZJ.js";import"./supabase-B2tzS42n.js";const k="/integration4/assets/kiosk-home-image-DtMwGRah.png";async function N(){const t=await u(),o=await p(),n=await x(),a=j(o);return{votableThemes:n,votePercentages:a,currentEvent:t}}const g=({loaderData:t={}})=>{const{votableThemes:o,votePercentages:n,currentEvent:a}=t,[s,c]=d.useState(!0);return e.jsxs("div",{className:s===!0?"home__content":"home__content home__content--vote",children:[e.jsx("div",{className:"home__head",children:e.jsx("h1",{onClick:()=>c(!s),children:"You @abby"})}),s===!0?e.jsx("img",{className:"home__image",src:k,alt:""}):e.jsxs("div",{className:"home__leaderboard",children:[e.jsx("h2",{children:"Theme Voting Leaderboard"}),e.jsx("ul",{className:"vote-percentages",children:n.map((r,h)=>e.jsxs("li",{children:[e.jsx("h3",{children:o.find(l=>l.id===r.themeId).name}),e.jsxs("p",{children:[r.percentage,"%"]})]},h))})]}),e.jsx("div",{className:s===!0?"home__info":"home__info home__info--vote",children:s===!0?e.jsxs("p",{children:["Hey, you’re in the ",e.jsx("span",{children:"uploading phase"}),", where your ABBY room begins. Don’t leave it empty: upload your work with the theme ",e.jsx("span",{children:a.name})," and you might see your vision come to life at ",e.jsx("span",{children:"ABBY’s party"})," in a few weeks!"]}):e.jsxs("p",{children:["It’s ",e.jsx("span",{children:"voting time"}),", boost your favourite Japanese Garden ",e.jsx("span",{children:"artworks"})," and help choose the ",e.jsx("span",{children:"next ABBY theme!"})]})}),e.jsxs("ul",{className:"home__buttons",children:[e.jsx(i,{className:"kiosk-button",to:s===!0?"/kiosk/upload-info":"/kiosk/vote",children:s===!0?"Shape ABBY":"Vote Now"}),e.jsx("li",{children:e.jsx("p",{children:"or"})}),e.jsxs("div",{className:"home__extra-buttons",children:[e.jsx("li",{children:e.jsx(i,{className:"kiosk-button kiosk-button--sec kiosk-button--small",to:"/kiosk/about",children:"Discover Us"})}),e.jsx("li",{children:e.jsx(i,{className:"kiosk-button kiosk-button--sec kiosk-button--small",to:"/kiosk/previous-event-gallery",children:"See Previously@ABBY"})})]})]})]})},B=m(g);export{N as clientLoader,B as default};

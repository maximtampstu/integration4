import{w as x}from"./with-props-BUJaXTv7.js";import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{a as p,L as n}from"./chunk-DQRVZFIR-CGfc0zaK.js";import{h as j,g,n as u}from"./art-DyO3Qdz8.js";import"./supabase-C7s_kt8r.js";const N="/integration4/assets/art_vote-CbgMk3Pd.svg",w="data:image/svg+xml,%3csvg%20width='34'%20height='28'%20viewBox='0%200%2034%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M30.6%2015.75V12.25L0%209.625V18.375L30.6%2015.75Z'%20fill='black'/%3e%3cpath%20d='M34%209.80471L13.6%200L13.6%207.875L30.1258%2014.0471L13.6%2020.125L13.6%2028L34%2018.2896V9.80471Z'%20fill='black'/%3e%3c/svg%3e";function V(){return[{title:"Vote by Art Type - Abby"},{name:"description",content:"Browse and vote artworks by category"}]}async function I(){const i=await j(),r=await g(),a=await u();return{artTypes:i,art_Votes:r,artworks:a}}const T=x(function({loaderData:r}){const{artTypes:a,art_Votes:c,artworks:d}=r,[m,h]=p.useState(null),v=t=>{h(o=>o===t?null:t)};return e.jsxs("main",{className:"vote-art",children:[e.jsx("h1",{className:"visually-hidden",children:"vote for art categories"}),e.jsxs("article",{className:"vote-art__info",children:[e.jsx("h2",{className:"visually-hidden",children:"Choose a category to vote"}),e.jsx("div",{className:"vote-art__illustration",children:e.jsx("img",{src:N,alt:"vote art header",className:"vote-art__header-image"})}),e.jsx("div",{className:"vote-art__instructions",children:e.jsx("p",{children:"You can cast exactly one vote in each category. Change your vote anytime before the deadline. The leaderboard updates in real time."})}),e.jsxs("div",{className:"vote-art__timer",children:[e.jsx("p",{className:"vote-art__timer-label",children:"Voting Ends in"}),e.jsxs("div",{className:"vote-art__countdown",children:[e.jsxs("p",{children:[e.jsx("span",{children:"DD"})," days"]}),e.jsxs("p",{children:[e.jsx("span",{children:"HH"})," h"]}),e.jsxs("p",{children:[e.jsx("span",{children:"MM"})," min"]})]}),e.jsxs(n,{to:"/participate",className:"vote-art__link",children:[e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5.846e-08 9.09764L14 14L14 9.38047L2.65875 6.97643L14 4.57239L14 1.66948e-07L1.0905e-07 4.85522L5.846e-08 9.09764Z",fill:"black"})}),"Back"]})]})]}),e.jsxs("article",{className:"vote-art__categories",children:[e.jsx("h2",{className:"visually-hidden",children:"Art Categories"}),e.jsx("ul",{className:"vote-art__list",children:a.length===0?e.jsx("li",{className:"vote-art__empty",children:"No art types available yet."}):a.map(t=>{const _=c.filter(s=>s.userId===1).map(s=>s.artId),l=d.filter(s=>s.artTypeId===t.id).some(s=>_.includes(s.id));return e.jsxs("li",{className:"vote-art__item",children:[e.jsxs("div",{className:"vote-art__item-header",children:[e.jsxs("div",{className:"vote-art__item-message",children:[e.jsx("p",{className:"vote-art__item-subtitle",children:"*Donâ€™t miss out"}),e.jsx("p",{className:"vote-art__item-title",children:l?"See you at the party":"vote now, Be heard"})]}),e.jsx("div",{className:"vote-art__item-image-wrapper",children:e.jsx("img",{src:w,alt:"line_arrow",className:"vote-art__item-image"})})]}),e.jsxs("div",{className:"vote-art__item-footer",children:[e.jsx(n,{to:`/vote-art/${t.id}`,className:`vote-art__button ${l?"vote-art__button--voted":""}`,children:t.name}),e.jsx("button",{onClick:()=>v(t.id),className:"vote-art__info-button","aria-label":"More information",children:e.jsx("span",{className:"vote-art__info-circle",children:"i"})})]}),m===t.id&&e.jsxs("div",{className:"vote-art__description-box",children:[e.jsxs("div",{className:"vote-art__description-header",children:[e.jsx("div",{className:"small_box"}),e.jsx("div",{className:"big_box"})]}),e.jsx("p",{className:"vote-art__description",children:t.description})]})]},t.id)})})]})]})});export{I as clientLoader,T as default,V as meta};

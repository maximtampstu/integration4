import{w as x}from"./with-props-DYauBgyy.js";import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{a as p,L as n}from"./chunk-DQRVZFIR-CNgL96Wu.js";import{j,g,l as u}from"./art-CBE29fTF.js";import{a as N}from"./arrow-CMmgFB8Y.js";import"./supabase-BcYPN25z.js";const w="/integration4/assets/art_vote-CbgMk3Pd.svg",b="data:image/svg+xml,%3csvg%20width='34'%20height='28'%20viewBox='0%200%2034%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M30.6%2015.75V12.25L0%209.625V18.375L30.6%2015.75Z'%20fill='black'/%3e%3cpath%20d='M34%209.80471L13.6%200L13.6%207.875L30.1258%2014.0471L13.6%2020.125L13.6%2028L34%2018.2896V9.80471Z'%20fill='black'/%3e%3c/svg%3e";function T(){return[{title:"Vote by Art Type - Abby"},{name:"description",content:"Browse and vote artworks by category"}]}async function C(){const i=await j(),r=await g(),a=await u();return{artTypes:i,art_Votes:r,artworks:a}}const D=x(function({loaderData:r}){const{artTypes:a,art_Votes:c,artworks:d}=r,[m,v]=p.useState(null),_=t=>{v(o=>o===t?null:t)};return e.jsxs("main",{className:"vote-art",children:[e.jsx("h1",{className:"visually-hidden",children:"vote for art categories"}),e.jsxs("article",{className:"vote-art__info",children:[e.jsx("h2",{className:"visually-hidden",children:"Choose a category to vote"}),e.jsx("div",{className:"vote-art__illustration",children:e.jsx("img",{src:w,alt:"vote art header",className:"vote-art__header-image"})}),e.jsx("div",{className:"vote-art__instructions",children:e.jsx("p",{children:"You can cast exactly one vote in each category. Change your vote anytime before the deadline. The leaderboard updates in real time."})}),e.jsxs("div",{className:"vote-art__timer",children:[e.jsx("p",{className:"vote-art__timer-label",children:"Voting Ends in"}),e.jsxs("div",{className:"vote-art__countdown",children:[e.jsxs("p",{children:[e.jsx("span",{children:"DD"})," days"]}),e.jsxs("p",{children:[e.jsx("span",{children:"HH"})," h"]}),e.jsxs("p",{children:[e.jsx("span",{children:"MM"})," min"]})]}),e.jsxs(n,{to:"/",className:"vote-art__link",children:[e.jsx("img",{src:N,alt:"arrow",className:"vote-art__arrow"}),"Back"]})]})]}),e.jsxs("article",{className:"vote-art__categories",children:[e.jsx("h2",{className:"visually-hidden",children:"Art Categories"}),e.jsx("ul",{className:"vote-art__list",children:a.length===0?e.jsx("li",{className:"vote-art__empty",children:"No art types available yet."}):a.map(t=>{const h=c.filter(s=>s.userId===1).map(s=>s.artId),l=d.filter(s=>s.artTypeId===t.id).some(s=>h.includes(s.id));return e.jsxs("li",{className:"vote-art__item",children:[e.jsxs("div",{className:"vote-art__item-header",children:[e.jsxs("div",{className:"vote-art__item-message",children:[e.jsx("p",{className:"vote-art__item-subtitle",children:"*Donâ€™t miss out"}),e.jsx("p",{className:"vote-art__item-title",children:l?"See you at the party":"vote now, Be heard"})]}),e.jsx("div",{className:"vote-art__item-image-wrapper",children:e.jsx("img",{src:b,alt:"line_arrow",className:"vote-art__item-image"})})]}),e.jsxs("div",{className:"vote-art__item-footer",children:[e.jsx(n,{to:`/vote-art/${t.id}`,className:`vote-art__button ${l?"vote-art__button--voted":""}`,children:t.name}),e.jsx("button",{onClick:()=>_(t.id),className:"vote-art__info-button","aria-label":"More information",children:e.jsx("span",{className:"vote-art__info-circle",children:"i"})})]}),m===t.id&&e.jsxs("div",{className:"vote-art__description-box",children:[e.jsxs("div",{className:"vote-art__description-header",children:[e.jsx("div",{className:"small_box"}),e.jsx("div",{className:"big_box"})]}),e.jsx("p",{className:"vote-art__description",children:t.description})]})]},t.id)})})]})]})});export{C as clientLoader,D as default,T as meta};

import{w}from"./with-props-DYauBgyy.js";import{j as t}from"./jsx-runtime-D_zvdyIk.js";/* empty css              */import{a as n,z as m,O as v}from"./chunk-DQRVZFIR-CNgL96Wu.js";const j=({secondsLeft:s,shown:r})=>{const l=n.useRef(null);return n.useEffect(()=>{const c=l.current,e=c.getContext("2d"),a=s/10,o=1.5*Math.PI,u=o+2*Math.PI*a;e.clearRect(0,0,c.width,c.height),e.beginPath(),e.arc(28,28,20,o,u),e.lineWidth=12,e.strokeStyle="#E8E0D3",e.stroke()},[s]),t.jsx("div",{className:r?"touch-count-down":"visually-hidden",children:t.jsxs("div",{className:"touch-count-down__content",children:[t.jsxs("div",{className:"touch-count-down__counter",children:[t.jsx("canvas",{ref:l,width:"56",height:"56",className:"touch-count-down__progress"}),t.jsx("div",{className:"touch-count-down__counter-hidder"}),t.jsx("p",{className:"touch-count-down__counter-value",children:s})]}),t.jsxs("div",{className:"touch-count-down__text",children:[t.jsx("p",{className:"touch-count-down__head",children:"Touch"}),t.jsx("p",{className:"touch-count-down__subhead",children:"To keep discovering!"})]})]})})},p=({handleUnlock:s})=>t.jsxs("div",{style:{position:"absolute",top:"0",left:"0",textAlign:"center",width:"100%",height:"100%",backgroundColor:"white"},children:[t.jsx("h1",{children:"StartScreen"}),t.jsx("button",{onClick:s,children:"Unlock"})]}),_=()=>{const s=m(),[r,l]=n.useState(!1),[c,e]=n.useState(0),[a,o]=n.useState(!1),[u,h]=n.useState(10);n.useEffect(()=>{const f=setInterval(()=>{r&&(a?(h(i=>i-1),u<=1&&(h(10),o(!1),l(!1),s("/kiosk/home"))):(e(i=>i+1),c===90&&(o(!0),e(0),h(10))))},1e3);return()=>clearInterval(f)},[c,a,u,r]);const d=()=>{e(0),o(!1)},x=()=>{l(!0),e(0),o(!1)};return t.jsxs("div",{onTouchStart:d,onClick:d,style:{height:"100vh"},children:[t.jsx(v,{}),a&&t.jsx(j,{secondsLeft:u,shown:a}),!r&&t.jsx(p,{handleUnlock:x})]})},C=w(_);export{C as default};

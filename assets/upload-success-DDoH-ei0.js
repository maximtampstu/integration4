import{w as A}from"./with-props-DYauBgyy.js";import{j as u}from"./jsx-runtime-D_zvdyIk.js";import{b as j}from"./art-CBE29fTF.js";import{a as m,y as M,L as k}from"./chunk-DQRVZFIR-CNgL96Wu.js";import"./supabase-BcYPN25z.js";const B="/integration4/assets/fish-BSql2fQP.svg";function D(a){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];a&&a.addEventListener&&a.addEventListener.apply(a,t)}function q(a){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];a&&a.removeEventListener&&a.removeEventListener.apply(a,t)}var O=typeof window<"u",T=function(a){m.useEffect(a,[])},W=function(a){var t=m.useRef(a);t.current=a,T(function(){return function(){return t.current()}})},Q=function(a){var t=m.useRef(0),e=m.useState(a),s=e[0],n=e[1],i=m.useCallback(function(r){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){n(r)})},[]);return W(function(){cancelAnimationFrame(t.current)}),[s,i]},Y=function(a){var t={},e=t.initialWidth,s=e===void 0?1/0:e,n=t.initialHeight,i=n===void 0?1/0:n,r=t.onChange,o=Q({width:O?window.innerWidth:s,height:O?window.innerHeight:i}),c=o[0],g=o[1];return m.useEffect(function(){if(O){var l=function(){var f=window.innerWidth,y=window.innerHeight;g({width:f,height:y}),r&&r(f,y)};return D(window,"resize",l),function(){q(window,"resize",l)}}},[]),c},P,N;function L(){if(N)return P;N=1;var a={linear:function(t,e,s,n){var i=s-e;return i*t/n+e},easeInQuad:function(t,e,s,n){var i=s-e;return i*(t/=n)*t+e},easeOutQuad:function(t,e,s,n){var i=s-e;return-i*(t/=n)*(t-2)+e},easeInOutQuad:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,s,n){var i=s-e;return i*(t/=n)*t*t+e},easeOutCubic:function(t,e,s,n){var i=s-e;return i*((t=t/n-1)*t*t+1)+e},easeInOutCubic:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,s,n){var i=s-e;return i*(t/=n)*t*t*t+e},easeOutQuart:function(t,e,s,n){var i=s-e;return-i*((t=t/n-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,s,n){var i=s-e;return i*(t/=n)*t*t*t*t+e},easeOutQuint:function(t,e,s,n){var i=s-e;return i*((t=t/n-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,s,n){var i=s-e;return-i*Math.cos(t/n*(Math.PI/2))+i+e},easeOutSine:function(t,e,s,n){var i=s-e;return i*Math.sin(t/n*(Math.PI/2))+e},easeInOutSine:function(t,e,s,n){var i=s-e;return-i/2*(Math.cos(Math.PI*t/n)-1)+e},easeInExpo:function(t,e,s,n){var i=s-e;return t==0?e:i*Math.pow(2,10*(t/n-1))+e},easeOutExpo:function(t,e,s,n){var i=s-e;return t==n?e+i:i*(-Math.pow(2,-10*t/n)+1)+e},easeInOutExpo:function(t,e,s,n){var i=s-e;return t===0?e:t===n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,s,n){var i=s-e;return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},easeOutCirc:function(t,e,s,n){var i=s-e;return i*Math.sqrt(1-(t=t/n-1)*t)+e},easeInOutCirc:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,s,n){var i=s-e,r,o,c;return c=1.70158,o=0,r=i,t===0?e:(t/=n)===1?e+i:(o||(o=n*.3),r<Math.abs(i)?(r=i,c=o/4):c=o/(2*Math.PI)*Math.asin(i/r),-(r*Math.pow(2,10*(t-=1))*Math.sin((t*n-c)*(2*Math.PI)/o))+e)},easeOutElastic:function(t,e,s,n){var i=s-e,r,o,c;return c=1.70158,o=0,r=i,t===0?e:(t/=n)===1?e+i:(o||(o=n*.3),r<Math.abs(i)?(r=i,c=o/4):c=o/(2*Math.PI)*Math.asin(i/r),r*Math.pow(2,-10*t)*Math.sin((t*n-c)*(2*Math.PI)/o)+i+e)},easeInOutElastic:function(t,e,s,n){var i=s-e,r,o,c;return c=1.70158,o=0,r=i,t===0?e:(t/=n/2)===2?e+i:(o||(o=n*(.3*1.5)),r<Math.abs(i)?(r=i,c=o/4):c=o/(2*Math.PI)*Math.asin(i/r),t<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t*n-c)*(2*Math.PI)/o))+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*n-c)*(2*Math.PI)/o)*.5+i+e)},easeInBack:function(t,e,s,n,i){var r=s-e;return i===void 0&&(i=1.70158),r*(t/=n)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,s,n,i){var r=s-e;return i===void 0&&(i=1.70158),r*((t=t/n-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,s,n,i){var r=s-e;return i===void 0&&(i=1.70158),(t/=n/2)<1?r/2*(t*t*(((i*=1.525)+1)*t-i))+e:r/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},easeInBounce:function(t,e,s,n){var i=s-e,r;return r=a.easeOutBounce(n-t,0,i,n),i-r+e},easeOutBounce:function(t,e,s,n){var i=s-e;return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,s,n){var i=s-e,r;return t<n/2?(r=a.easeInBounce(t*2,0,i,n),r*.5+e):(r=a.easeOutBounce(t*2-n,0,i,n),r*.5+i*.5+e)}};return P=a,P}var G=L();function U(a){return a*Math.PI/180}function h(a,t){return a+Math.random()*(t-a)}function H(a,t){return Math.floor(a+Math.random()*(t-a+1))}var x;(function(a){a[a.Circle=0]="Circle",a[a.Square=1]="Square",a[a.Strip=2]="Strip"})(x||(x={}));var p;(function(a){a[a.Positive=1]="Positive",a[a.Negative=-1]="Negative"})(p||(p={}));const V=1e3/60;class z{constructor(t,e,s,n){this.getOptions=e;const{colors:i,initialVelocityX:r,initialVelocityY:o}=this.getOptions();this.context=t,this.x=s,this.y=n,this.w=h(5,20),this.h=h(5,20),this.radius=h(5,10),this.vx=typeof r=="number"?h(-r,r):h(r.min,r.max),this.vy=typeof o=="number"?h(-o,0):h(o.min,o.max),this.shape=H(0,2),this.angle=U(h(0,360)),this.angularSpin=h(-.2,.2),this.color=i[Math.floor(Math.random()*i.length)],this.rotateY=h(0,1),this.rotationDirection=h(0,1)?p.Positive:p.Negative}update(t){const{gravity:e,wind:s,friction:n,opacity:i,drawShape:r}=this.getOptions(),o=t/V;this.x+=this.vx*o,this.y+=this.vy*o,this.vy+=e*o,this.vx+=s*o,this.vx*=n**o,this.vy*=n**o,this.rotateY>=1&&this.rotationDirection===p.Positive?this.rotationDirection=p.Negative:this.rotateY<=-1&&this.rotationDirection===p.Negative&&(this.rotationDirection=p.Positive);const c=.1*this.rotationDirection*o;if(this.rotateY+=c,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=i,this.context.lineCap="round",this.context.lineWidth=2,r&&typeof r=="function")r.call(this,this.context);else switch(this.shape){case x.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case x.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case x.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class X{constructor(t,e){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=n=>{this.particles.splice(n,1)},this.getParticle=()=>{const n=h(this.x,this.w+this.x),i=h(this.y,this.h+this.y);return new z(this.context,this.getOptions,n,i)},this.animate=n=>{const{canvas:i,context:r,particlesGenerated:o,lastNumberOfPieces:c}=this,{run:g,recycle:l,numberOfPieces:f,debug:y,tweenFunction:E,tweenDuration:_}=this.getOptions();if(!g)return!1;const I=this.particles.length,w=l?I:o;if(w<f){c!==f&&(this.tweenProgress=0,this.tweenFrom=w,this.lastNumberOfPieces=f),this.tweenProgress=Math.min(_,Math.max(0,this.tweenProgress+n));const v=E(this.tweenProgress,this.tweenFrom,f,_),d=Math.round(v-w);for(let R=0;R<d;R++)this.particles.push(this.getParticle());this.particlesGenerated+=d}y&&(r.font="12px sans-serif",r.fillStyle="#333",r.textAlign="right",r.fillText(`Particles: ${I}`,i.width-10,i.height-20));for(let v=this.particles.length-1;v>=0;v--){const d=this.particles[v];d.update(n),(d.y>i.height||d.y<-100||d.x>i.width+100||d.x<-100)&&(l&&w<=f?this.particles[v]=this.getParticle():this.removeParticleAt(v))}return I>0||w<f},this.canvas=t;const s=this.canvas.getContext("2d");if(!s)throw new Error("Could not get canvas context");this.context=s,this.getOptions=e}}const S={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:G.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class ${constructor(t,e){this.lastFrameTime=0,this.setOptionsWithDefaults=n=>{const i={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...i,...S,...n},Object.assign(this,n.confettiSource)},this.update=(n=0)=>{const{options:{run:i,onConfettiComplete:r,frameRate:o},canvas:c,context:g}=this,l=Math.min(n-this.lastFrameTime,50);if(o&&l<1e3/o){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=n-(o?l%o:0),i&&(g.fillStyle="white",g.clearRect(0,0,c.width,c.height)),this.generator.animate(l)?this.rafId=requestAnimationFrame(this.update):(r&&typeof r=="function"&&this.generator.particlesGenerated>0&&r.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=t;const s=this.canvas.getContext("2d");if(!s)throw new Error("Could not get canvas context");this.context=s,this.generator=new X(this.canvas,()=>this.options),this.options=e,this.update()}get options(){return this._options}set options(t){var n,i;const e=(n=this._options)==null?void 0:n.run,s=(i=this._options)==null?void 0:i.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof t.recycle=="boolean"&&t.recycle&&s===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof t.run=="boolean"&&t.run&&e===!1&&this.update()}}const K=M.createRef();class F extends M.Component{constructor(t){super(t),this.canvas=M.createRef(),this.canvas=t.canvasRef||K}componentDidMount(){if(this.canvas.current){const t=C(this.props)[0];this.confetti=new $(this.canvas.current,t)}}componentDidUpdate(){const t=C(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[t,e]=C(this.props),s={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...e.style};return u.jsx("canvas",{width:t.width,height:t.height,ref:this.canvas,...e,style:s})}}F.defaultProps={...S};F.displayName="ReactConfetti";function C(a){const t={},e={},s={},n=[...Object.keys(S),"confettiSource","drawShape","onConfettiComplete","frameRate"],i=["canvasRef"];for(const r in a){const o=a[r];n.includes(r)?t[r]=o:i.includes(r)?i[r]=o:s[r]=o}return[t,s,e]}const J=M.forwardRef((a,t)=>u.jsx(F,{canvasRef:t,...a}));async function nt({params:a}){return{art:await j(Number(a.id))}}const st=A(function({loaderData:t}){const{art:e}=t,{width:s,height:n}=Y(),[i,r]=m.useState(!0);return u.jsxs("main",{className:"upload-success-page",children:[i&&u.jsx(J,{width:s,height:n,numberOfPieces:250,recycle:!1,run:i}),u.jsx("h1",{className:"visually-hidden",children:"Upload Success"}),u.jsxs("article",{className:"upload-success__content",children:[u.jsx("h2",{className:"upload-success__heading",style:{backgroundImage:`url(${B})`,backgroundPosition:"bottom",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Thank you for leaving your mark!"}),u.jsxs("p",{className:"upload-success__message",children:["Your artwork ",u.jsx("strong",{children:e.title})," is safely in the mix—check back anytime to see how it’s doing."]}),u.jsx("div",{className:"upload-success__frame",children:e.type==="video"?u.jsx("video",{controls:!0,className:"upload-success__media",children:u.jsx("source",{src:e.url})}):e.type==="audio"?u.jsx("audio",{controls:!0,className:"upload-success__media",children:u.jsx("source",{src:e.url})}):u.jsx("img",{src:e.url,alt:e.title,className:"upload-success__media"})})]}),u.jsxs("div",{className:"upload-success__actions",children:[u.jsx(k,{to:"/upload",className:"upload-success__link upload-success__link-more",children:"Upload More"}),u.jsx(k,{to:"/my-gallery",className:"upload-success__link upload-success__link-seeArt",children:"See Your Art"})]})]})});export{nt as clientLoader,st as default};
